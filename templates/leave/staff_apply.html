{% extends "base_user.html" %}
{% block title %}Apply for Leave - StaffHub{% endblock %}

{% block content %}
<div class="container py-5 d-flex justify-content-center">
  <div class="card shadow-sm rounded-4 border-0 w-100" style="max-width: 600px;">
    <div class="card-header bg-white border-0 pb-0">
      <h4 class="fw-bold mb-0">
        <i class="bi bi-calendar-plus me-2 text-primary"></i> Apply for Leave
      </h4>
    </div>
    <div class="card-body">

      <form method="post" novalidate>
        {% csrf_token %}

        <!-- Non-field errors -->
        {% if form.non_field_errors %}
          <div class="alert alert-danger">{{ form.non_field_errors }}</div>
        {% endif %}

        <!-- Leave Type -->
        <div class="mb-3">
          <label for="{{ form.leave_type.id_for_label }}" class="form-label">
            <i class="bi bi-list-task me-1 text-muted"></i> {{ form.leave_type.label }}
          </label>
          {{ form.leave_type }}
          {% for error in form.leave_type.errors %}
            <div class="invalid-feedback d-block">{{ error }}</div>
          {% endfor %}
        </div>

        <!-- Start Date -->
        <div class="mb-3">
          <label for="{{ form.start_date.id_for_label }}" class="form-label">
            <i class="bi bi-calendar-event me-1 text-muted"></i> {{ form.start_date.label }}
          </label>
          {{ form.start_date }}
          {% for error in form.start_date.errors %}
            <div class="invalid-feedback d-block">{{ error }}</div>
          {% endfor %}
        </div>

        <!-- End Date -->
        <div class="mb-3">
          <label for="{{ form.end_date.id_for_label }}" class="form-label">
            <i class="bi bi-calendar-check me-1 text-muted"></i> {{ form.end_date.label }}
          </label>
          {{ form.end_date }}
          {% for error in form.end_date.errors %}
            <div class="invalid-feedback d-block">{{ error }}</div>
          {% endfor %}
        </div>

        <!-- Reason -->
        <div class="mb-3">
          <label for="{{ form.reason.id_for_label }}" class="form-label">
            <i class="bi bi-chat-left-text me-1 text-muted"></i> {{ form.reason.label }}
          </label>
          {{ form.reason }}
          {% for error in form.reason.errors %}
            <div class="invalid-feedback d-block">{{ error }}</div>
          {% endfor %}
        </div>

        <!-- Submit Button -->
        <button type="submit" class="btn btn-primary w-100 py-2 shadow-sm rounded-3">
          <i class="bi bi-send me-2"></i> Submit Request
        </button>
      </form>

    </div>
  </div>
</div>
{% endblock %}
